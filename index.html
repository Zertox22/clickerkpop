<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>K-Pop Stan Clicker</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;700&display=swap" rel="stylesheet">
</head>

<body>
    <div class="app-container">
        <!-- Left Panel: The Stage (Clicker) -->
        <section class="stage-panel">
            <header>
                <!-- Bouton de connexion -->
                <a href="login.html" class="login-btn" title="Se connecter">
                    <span class="login-icon">ğŸ‘¤</span>
                    <span class="login-text">Connexion</span>
                </a>

                <!-- Bouton Feedback -->
                <a href="feedback.html" class="login-btn feedback-btn-index" title="Envoyer un feedback">
                    <span class="login-icon">ğŸ’Œ</span>
                    <span class="login-text">Feedback</span>
                </a>

                <!-- Bouton Spotify -->
                <a href="https://open.spotify.com/playlist/6R2RmWiUrbcmaDFKGTNRMf?si=a84920896c3d472a" target="_blank"
                    class="login-btn spotify-btn-index" title="Ã‰couter sur Spotify">
                    <span class="login-icon">ğŸµ</span>
                    <span class="login-text">Spotify</span>
                </a>

                <h1>K-Pop Stan</h1>
                <div class="currency-display">
                    <span id="score">0</span> <span class="currency-name">â¤ï¸</span>
                    <span class="spacer"> | </span>
                    <span id="coins">0</span> <span class="currency-name">ğŸŒŸ</span>
                </div>
                <div class="cps-display">
                    <span id="cps">0</span> â¤ï¸/sec
                </div>
                <!-- Level UI -->
                <div class="level-container">
                    <div class="level-info">
                        <span class="level-badge">Lvl <span id="level-display">0</span></span>
                        <span class="xp-text"><span id="xp-display">0</span> / <span id="xp-max">100</span> XP</span>
                    </div>
                    <div class="xp-bar-bg">
                        <div id="xp-bar-fill" class="xp-bar-fill" style="width: 0%;"></div>
                    </div>
                </div>
            </header>

            <div class="click-area">
                <button id="main-button" class="heart-btn">
                    ğŸ’–
                </button>
            </div>

            <div class="collection-entry">
                <button id="open-collection-btn" class="collection-btn" onclick="openModal()">
                    My Collection ğŸ—‚ï¸
                </button>
                <button id="open-lightstick-btn" class="collection-btn" onclick="openLightstickModal()">
                    Mes Lightstick ğŸª„
                </button>
                <button id="open-album-btn" class="collection-btn" onclick="openAlbumModal()">
                    Mes Albums/EPs ğŸ’¿
                </button>
            </div>
        </section>

        <!-- Right Panel: Shop & Gacha -->
        <section class="shop-panel">
            <div class="tabs">
                <button class="tab-btn active" onclick="switchTab('upgrades-content')">Upgrades</button>
                <button class="tab-btn" onclick="switchTab('gacha-content')">Gacha</button>
            </div>

            <!-- Upgrades Tab -->
            <div id="upgrades-content" class="tab-content active">
                <div class="list-container">
                    <!-- Premium Upgrades (Coins) -->
                    <div id="premium-upgrades-list" class="upgrade-section">
                        <h3>ğŸŒŸ Premium Shop ğŸŒŸ</h3>
                        <!-- Injected JS -->
                    </div>

                    <hr style="border-color: var(--glass-border); margin: 10px 0;">

                    <!-- Standard Upgrades (Hearts) -->
                    <div id="upgrade-list">
                        <h3>â¤ï¸ Standard Upgrades</h3>
                        <!-- Injected JS -->
                    </div>
                </div>
            </div>

            <!-- Gacha Tab -->
            <div id="gacha-content" class="tab-content">
                <h2>ğŸ“¸ Idol Card Packs</h2>

                <div class="gacha-category">
                    <h3>Click Packs (â¤ï¸)</h3>
                    <div class="gacha-btn-group">
                        <button class="gacha-list-btn" onclick="openPackModal('standard')">
                            <span class="gacha-icon">ğŸ«</span>
                            <span class="gacha-text">Standard Pack</span>
                        </button>
                        <button class="gacha-list-btn" onclick="openPackModal('super')">
                            <span class="gacha-icon">ğŸ’–</span>
                            <span class="gacha-text">Super Fan Pack</span>
                        </button>
                        <button class="gacha-list-btn" onclick="openPackModal('platinum')">
                            <span class="gacha-icon">ğŸ’¿</span>
                            <span class="gacha-text">Platinum Pack</span>
                        </button>
                        <button class="gacha-list-btn" onclick="openPackModal('fan_club')">
                            <span class="gacha-icon">ğŸª</span>
                            <span class="gacha-text">Fan Club Pack</span>
                        </button>
                        <button class="gacha-list-btn" onclick="openPackModal('concert')">
                            <span class="gacha-icon">ğŸŸï¸</span>
                            <span class="gacha-text">Concert Pack</span>
                        </button>
                    </div>
                </div>

                <div class="gacha-category">
                    <h3>Album/EP Pack (ğŸŒŸ)</h3>
                    <div class="gacha-btn-group">
                        <button class="gacha-list-btn album-btn-style" onclick="openPackModal('debut_single')">
                            <span class="gacha-icon">ğŸ’¿</span>
                            <span class="gacha-text">Debut Single</span>
                        </button>
                        <button class="gacha-list-btn album-btn-style" onclick="openPackModal('mini_album')">
                            <span class="gacha-icon">ğŸ“€</span>
                            <span class="gacha-text">Mini Album</span>
                        </button>
                        <button class="gacha-list-btn album-btn-style" onclick="openPackModal('full_album')">
                            <span class="gacha-icon">ğŸµ</span>
                            <span class="gacha-text">Full Album</span>
                        </button>
                        <button class="gacha-list-btn album-btn-style" onclick="openPackModal('repackage')">
                            <span class="gacha-icon">ğŸ¼</span>
                            <span class="gacha-text">Repackage Album</span>
                        </button>
                        <button class="gacha-list-btn album-btn-style" onclick="openPackModal('collectors_box')">
                            <span class="gacha-icon">ğŸ“¦</span>
                            <span class="gacha-text">Collector's Box</span>
                        </button>
                    </div>
                </div>

                <div class="gacha-category">
                    <h3>VIP Packs (ğŸŒŸ)</h3>
                    <div class="gacha-btn-group">
                        <button class="gacha-list-btn vip-btn-style" onclick="openPackModal('vip')">
                            <span class="gacha-icon">ğŸ‘‘</span>
                            <span class="gacha-text">VIP Pack</span>
                        </button>
                        <button class="gacha-list-btn vip-btn-style" onclick="openPackModal('elite')">
                            <span class="gacha-icon">ğŸ’</span>
                            <span class="gacha-text">Elite Star Pack</span>
                        </button>
                        <button class="gacha-list-btn vip-btn-style" onclick="openPackModal('diamond')">
                            <span class="gacha-icon">ğŸ”®</span>
                            <span class="gacha-text">Diamond Pack</span>
                        </button>
                        <button class="gacha-list-btn vip-btn-style" onclick="openPackModal('backstage')">
                            <span class="gacha-icon">ğŸ•¶ï¸</span>
                            <span class="gacha-text">Backstage Pack</span>
                        </button>
                        <button class="gacha-list-btn vip-btn-style" onclick="openPackModal('world_tour')">
                            <span class="gacha-icon">ğŸŒ</span>
                            <span class="gacha-text">World Tour Pack</span>
                        </button>
                    </div>
                </div>

                <hr style="border-color: var(--glass-border); margin: 20px 0;">

                <div class="gacha-category">
                    <h3>Lightstick Packs (ğŸŒŸ)</h3>
                    <div class="gacha-btn-group">
                        <button class="gacha-list-btn ls-btn-style" onclick="openPackModal('ls_std')">
                            <span class="gacha-icon">ğŸ”¦</span>
                            <span class="gacha-text">Standard LS</span>
                        </button>
                        <button class="gacha-list-btn ls-btn-style" onclick="openPackModal('ls_prem')">
                            <span class="gacha-icon">âœ¨</span>
                            <span class="gacha-text">Premium LS</span>
                        </button>
                        <button class="gacha-list-btn ls-btn-style" onclick="openPackModal('ls_ult')">
                            <span class="gacha-icon">ğŸ‡</span>
                            <span class="gacha-text">Ultimate LS</span>
                        </button>
                    </div>
                </div>

                <div id="latest-pull" class="pull-result hidden">
                    <!-- Card reveal animation -->
                </div>
            </div>
        </section>
    </div>

    <!-- Generic Info Modal -->
    <div id="info-modal" class="modal hidden" style="z-index: 2000;">
        <div class="modal-content">
            <span class="close-modal" id="close-info-btn">&times;</span>
            <h2 id="info-title">Pack Details</h2>
            <div id="info-content"></div>
        </div>
    </div>

    <!-- Collection Overlay (Hidden by default) -->
    <div id="collection-modal" class="modal hidden">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal()">&times;</span>
            <h2>Photocard Binder</h2>
            <div id="full-inventory" class="card-grid"></div>
        </div>
    </div>
    <!-- Lightstick Collection Modal -->
    <div id="lightstick-modal" class="modal hidden">
        <div class="modal-content">
            <span class="close-modal" onclick="closeLightstickModal()">&times;</span>
            <h2>Lightstick Collection</h2>
            <div id="lightstick-grid" class="card-grid"></div>
        </div>
    </div>

    <!-- Album Collection Modal -->
    <div id="album-modal" class="modal hidden">
        <div class="modal-content">
            <span class="close-modal" onclick="closeAlbumModal()">&times;</span>
            <h2>Mes Albums/EPs ğŸ’¿</h2>
            <div id="album-grid" class="card-grid"></div>
        </div>
    </div>

    <!-- Card Details Overlay (Hidden by default) -->
    <div id="card-details-modal" class="modal hidden" style="z-index:1100;">
        <div class="modal-content details-content">
            <span class="close-modal" onclick="closeDetailsModal()">&times;</span>
            <div id="details-view-container">
                <!-- Injected via JS -->
            </div>
        </div>
    </div>

    <div id="pack-opening-modal" class="pack-modal hidden">
        <div class="pack-animation-container">
            <div id="pack-particles"></div>
            <div id="pack-visual" class="pack-visual">
                <div class="pack-glow"></div>
                <div class="pack-icon">ğŸ</div>
                <div class="pack-prompt">Click to Open!</div>
            </div>
            <div id="card-reveal-container" class="card-reveal-container hidden">
                <!-- Card will be injected here -->
            </div>
        </div>
    </div>

    <!-- Pack Purchase Modal -->
    <div id="pack-purchase-modal" class="modal hidden" style="z-index: 2500;">
        <div class="modal-content pack-details-content">
            <div class="pack-details-header">
                <div id="modal-pack-icon" class="pack-icon-large">ğŸ</div>
                <h2 id="modal-pack-title">Pack Name</h2>
            </div>
            <p id="modal-pack-desc">Description goes here.</p>

            <div class="pack-rates-container">
                <h4>Drop Rates:</h4>
                <div id="modal-pack-rates" class="rates-grid">
                    <!-- Rates injected here -->
                </div>
            </div>

            <div class="pack-action-area">
                <div class="price-tag">
                    <span id="modal-pack-cost">200</span> <span id="modal-pack-currency">â¤ï¸</span>
                </div>
                <button id="modal-buy-btn" class="action-btn buy-confirm-btn">Buy Now</button>
                <button class="action-btn close-modal-btn" onclick="closePackModal()">Echap</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>